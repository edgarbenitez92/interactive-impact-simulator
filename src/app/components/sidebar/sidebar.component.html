<aside class="sidebar-wrapper" role="complementary" aria-label="Navigation sidebar" (click)="toggleSidebar()">
  <!-- Version minified -->
  <div class="indicators-container" [class.expanded]="isExpanded()">
    <header class="logo" role="banner">
      <h1>cfr</h1>
    </header>

    <nav class="indicators" aria-label="Slide indicators">
      @for (category of categories; track $index) {
      <button class="indicator" [class.active]="isActiveCategory(category)"
        (click)="navigateToSlide(category.slides[0])" [attr.aria-label]="'Navigate to ' + category.name"
        [attr.aria-current]="isActiveCategory(category) ? 'true' : 'false'">
      </button>
      }
    </nav>

    @if (!isExpanded()) {
    <figure class="audio-player-container" role="region" aria-label="Audio controls" (click)="$event.stopPropagation()">
      <figcaption class="visually-hidden">Audio player controls</figcaption>
      <app-audio-player></app-audio-player>
    </figure>
    }
  </div>

  <!-- Version expanded -->
  <div class="sidebar-open" [class.hidden]="!isExpanded()">
    <nav class="menu" aria-label="Main navigation">
      <ul role="list">
        @for (category of categories; track $index) {
        <li>
          <button class="menu-item" [style.height]="getCategoryHeight(category)"
            [class.active]="isActiveCategory(category)" (click)="navigateToSlide(category.slides[0])"
            [attr.aria-current]="isActiveCategory(category) ? 'true' : 'false'">
            {{ category.name }}
          </button>
        </li>
        }
      </ul>
    </nav>

    <footer class="footer">
      <nav class="footer-links" aria-label="Additional resources">
        <ul role="list">
          <li><a href="#" role="link">RESOURCES</a></li>
          <li><a href="#" role="link">CREDITS</a></li>
        </ul>
      </nav>

      <hr>

      <button (click)="toggleMute()" aria-label="Toggle audio" [attr.aria-pressed]="isAudioMuted()">
        {{ isAudioMuted() ? 'UNMUTE' : 'MUTE' }}
      </button>
    </footer>
  </div>
</aside>